<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="./assets/img/ifavicon.ico" type="image/x-icon">
    <title>Amazing events | Stats</title>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
          <img src="./assets/img/Logo.png" alt="Logo Empresa" id="Logo">

          </a>
          <h1>Amazing Moments</h1> 
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse d-sd-flex col-xs-12 justify-content-md-end" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item"><a class="nav-link" href="./index.html">
                <i class="bi bi-house"></i>
                Home</a>
              </li>
              <li class="nav-item"><a class="nav-link" href="./upcoming_events.html">
                <i class="bi bi-caret-right-square"></i>UpComing Events</a>
              </li>
              <li class="nav-item"><a class="nav-link" href="./past_events.html">
                <i class="bi bi-caret-left-square"></i>Past Events</a>
              </li>
              <li class="nav-item"><a class="nav-link" href="./contact.html">
                <i class="bi bi-pencil-square"></i>Contact</a>
              </li>
              <li class="nav-item"><a class="nav-link active" href="#">
                <i class="bi bi-file-bar-graph"></i>Stats</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <div id="carouselCaptions" class="container-fluid carousel slide">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
          <button type="button" data-bs-target="#carouselCaptions" data-bs-slide-to="3" aria-label="Slide 4"></button>
          <button type="button" data-bs-target="#carouselCaptions" data-bs-slide-to="4" aria-label="Slide 5"></button>
          <button type="button" data-bs-target="#carouselCaptions" data-bs-slide-to="5" aria-label="Slide 6"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="./assets/img/banner.jpg" alt="banner principal" class="w-100 fondo" >
            <div class="carousel-caption">
              <h5>Stats</h5>
            </div>
          </div>
          <div class="carousel-item">
            <img src="./assets/img/cinema_grande_xl.jpg" alt="banner cine" class="w-100 fondo">
            <div class="carousel-caption">
              <h5>Stats</h5>

            </div>
          </div>
          <div class="carousel-item">
            <img src="./assets/img/hallowen_xl.jpg" class="w-100 fondo" alt="banner hallowen">
            <div class="carousel-caption">
              <h5>Stats</h5>
             
            </div>
          </div>
          <div class="carousel-item">
            <img src="./assets/img/food_xl.jpg" class="w-100 fondo" alt="banner food">
            <div class="carousel-caption">
              <h5>Stats</h5>
             </div>
          </div>
          <div class="carousel-item">
            <img src="./assets/img/marathon_xl.jpg" class="w-100 fondo" alt="banner marathon">
            <div class="carousel-caption">
              <h5>Stats</h5>
             
            </div>
          </div>
          <div class="carousel-item">
            <img src="./assets/img/concert_xl.jpg" class="w-100 fondo" alt="banner concert">
            <div class="carousel-caption">
              <h5>Stats</h5>
              
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselCaptions" data-bs-slide="next">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselCaptions" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
        </button>
      </div>
    </header>
    <main>
      
      <div class="container-fluid tabla" id="tablas">
        <table class="table table-responsive">
          <thead>
            <tr>
            <th colspan="3">Events statistics</th>
           </tr>
          </thead>
          <tbody id="t_events">
              <tr class="table_sub">
                  <td>Events with highest percentage of attendance</td>
                  <td>Events with lowest percentage of attendance</td>
                  <td>Event with larger capacity</td>
              </tr>
              <tr v-for="(numero, index) in mayor" :key="index">
                <td v-if="index < eventoMayorAsistencia.length">
                  {{ eventoMayorAsistencia[index].name }}:
                  {{ eventoMayorAsistencia[index].porcentajeAsistencia.toLocaleString('es-ES', { style: 'percent', minimumFractionDigits: 2 }) }}
                </td>
                <td v-else></td>
                <td v-if="index < eventoMenorAsistencia.length">
                  {{ eventoMenorAsistencia[index].name }}:
                  {{ eventoMenorAsistencia[index].porcentajeAsistencia.toLocaleString('es-ES', { style: 'percent', minimumFractionDigits: 2 }) }}
                </td>
                <td v-else></td>
                <td v-if="index < eventoMayorCapacidad.length">
                  {{ eventoMayorCapacidad[index].name }}: {{ eventoMayorCapacidad[index].capacity }}
                </td>
                <td v-else></td>
              </tr>
              
             
              
          </tbody>
        </table>

        <table class="table table-responsive" id="upcoming">
          <thead>
          <tr>
            <th colspan="3">Upcoming events statistics by category  </th>
            
          </tr>

         
              <tr class="table_sub">
              <th>
                Categories
                <i class="bi bi-caret-up-fill flechas" @click="sortBy = 'categoria'; sortData(1,datosFuturo)"></i>
           
                <i class="bi bi-caret-down-fill flechas" @click="sortBy = 'categoria'; sortData(-1,datosFuturo)"></i>
              </th>
              <th>
                Revenues
                <i class="bi bi-caret-up-fill flechas" @click="sortBy = 'totalG'; sortData(1,datosFuturo)"></i>
           
                <i class="bi bi-caret-down-fill flechas" @click="sortBy = 'totalG'; sortData(-1,datosFuturo)"></i>
          
              </th>
              <th>
                Percentage of attendance
          
                <i class="bi bi-caret-up-fill flechas" @click="sortBy = 'porcentaje'; sortData(1,datosFuturo)"></i>
           
                <i class="bi bi-caret-down-fill flechas" @click="sortBy = 'porcentaje'; sortData(-1,datosFuturo)"></i>
          
              </tr>
            </thead>   
          <tbody  id="t_upcoming">  
            <tr v-for="(evento, index) in datosFuturo" :key="index">
              <td>{{ evento.categoria}}</td>
              <td>{{ evento.totalG.toLocaleString('es-ES', {style:'currency', currency: 'USD'}) }}</td>
              <td>{{ (evento.asistenciaTotal / evento.capacidadTotal * 100).toFixed(2).replace(".", ",") }}%</td>
            </tr>
          </tbody>
        </table>

        <table class="table table-responsivet" id="past">
          <thead>
            <tr>
           
             <th colspan="3">Past events statistics by category</th>
         
              </tr>
          
              <tr class="table_sub">
               
                <tr>
                  <th>
                    Categories
                    <i class="bi bi-caret-up-fill flechas" @click="sortBy = 'categoria'; sortData(1,datosPasado)"></i>
               
                    <i class="bi bi-caret-down-fill flechas" @click="sortBy = 'categoria'; sortData(-1,datosPasado)"></i>
                  </th>
                  <th>
                    Revenues
                    <i class="bi bi-caret-up-fill flechas" @click="sortBy = 'totalG'; sortData(1,datosPasado)"></i>
               
                    <i class="bi bi-caret-down-fill flechas" @click="sortBy = 'totalG'; sortData(-1,datosPasado)"></i>
              
                  </th>
                  <th>
                    Percentage of attendance
              
                    <i class="bi bi-caret-up-fill flechas" @click="sortBy = 'porcentaje'; sortData(1,datosPasado)"></i>
               
                    <i class="bi bi-caret-down-fill flechas" @click="sortBy = 'porcentaje'; sortData(-1,datosPasado)"></i>
              
                  </th>              
               
              </tr>
            </thead>   
         
              
            <tbody id="t_past"> 
              <tr v-for="(evento, index) in datosPasado" :key="index">
                <td>{{ evento.categoria}}</td>
                <td>{{ evento.totalG.toLocaleString('es-ES', {style:'currency', currency: 'USD'}) }}</td>
                <td>{{ (evento.asistenciaTotal / evento.capacidadTotal * 100).toFixed(2).replace(".", ",") }}%</td>
              </tr>
          </tbody>
        </table>



      </div>

     
      
    </main>
    <footer class="footer">
      <div class="container-fluid">
        <div class="row">
          <div class="col-6 d-flex justify-content-start align-items-center ">
            <a href="https://www.facebook.com/" target="_blank"><i class="fs-4 bi bi-facebook icono"></i></a> 
            <a href="https://www.instagram.com/" target="_blank"><i class="fs-4 bi bi-instagram icono"></i></a>
            <a href="https://www.whatsapp.com/" target="_blank"><i class="fs-4 bi bi-whatsapp icono"></i></a>
          </div>
          <div class="col-6 d-flex justify-content-end align-items-center">
            <p class="footer_der">COHORT</p>
          </div>
        </div>
      </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="./script/stats.js"></script>
  </body>
</html>
